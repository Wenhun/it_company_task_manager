{% extends 'base.html'%}

{% block content %}
  <div class="w3-container">
    <h1>
      <button onclick="accordion_function('project_links')" class="w3-button w3-block w3-green w3-left-align">
      Tasks▼</button>
      </h1>
      <div id="project_links" class="w3-hide" style="margin-left: 20px;">
        <a class="w3-button w3-block w3-left-align w3-green" href="{% url 'task_manager:task-create' %}?next={{ request.path }}">Add new Task</a>
        {% if request.GET.overdue == "true" %}
          <a class="w3-button w3-block w3-left-align w3-green" href="?">Show all Tasks</a>
        {% else %}
          <a class="w3-button w3-block w3-left-align w3-red" href="?overdue=true">Show only overdue Tasks</a>
        {% endif %}
        <button onclick="accordion_function('search')" class="w3-button w3-block w3-green w3-left-align">
        Search▼</button>
        <div id="search" class="w3-hide" style="margin-left: 40px;">
          {% include 'includes/search_form.html' %}
        </div>
      <br>
      </div>
    {% include "includes/task_table.html" with tasks=task_list show_active=True show_overdue=True show_completed=True %}
  </div>

  {% include 'includes/accordion_function.html' %}
{% endblock %}
